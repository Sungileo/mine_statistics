# 대푯값

`데이터를 한마디로 표현하는 값. 어느 대푯값을 사용해야 하는가는 데이터에 특성에 따라 다름.`

-   평균 : $\ x_1, x_2, ...x_n$의 평균은 $\bar{x}\ =\ \frac{x_1+x_2+ ...+x_n}{n}$

-   중앙값 : 데이터를 크기 순서대로 정렬했을때 가운데에 있는 값

-   최빈값 : 도수가 가장 큰 값

------------------------------------------------------------------------

## 여러 가지 평균

통계학에서 다루는 데이터의 평균은 일반적으로 데이터의 합을 데이터의 크기로 나눈어 계산한다.

이를 **산술평균**이라 한다.

이 외에도 여러가지 평균이 있다.

예를 들어 주가가 3년 만에 1.331배가 되었다면 $1.1^3\ =\ 1.331$이 성립하므로 1년마다 평균 1.1배씩 늘었다고 할 수 있다. 이를 기하평균이라 한다. **데이터의 배율에 주목하고자 할 때는 기하평균을 이용한다**.

## 중앙값의 2가지 패턴

데이터를 크기 순서로 정렬했을때, 데이터의 크기가 홀수일 때는 가운데 수가 1개이므로 이것이 중앙값이다. 크기가 짝수일 때는 가운데 수가 두개이므로 두 수의 평균을 중앙값이라 한다.

데이터에 **벗어난 값**(다른 값과 비교했을때 국단적으로 크거나 작은 값)이 있다면 평균값은 이 값에 영향을 받으나, 중앙값은 받지 않는다. 이때는 중앙값이 데이터의 대표값으로 더 잘 어울린다.

이처럼 벗어난 데이터에 영향을 잘 받지 않는 특성을 **강건성(robustness)**이라 합니다.

## 히스토그램과 최빈값

도수분포표에서 도수가 가장 큰 값을 **최빈값**이라 한다. 즉, 히스토그램에서 가장 높은 곳의 가로축 눈금이 최빈값이다.

**히스토그램에서 봉우리가 여러개라면 최빈값은 2개 이상일 수도 있다.**

```{r}
set.seed(4)
data <- rnorm(500, mean = 20,sd = 10)
data <- append(data,rnorm(500, mean = -20, sd=10))
hist(data, breaks = 80,main = NA, xlab = NA, ylab = NA,)
abline(v = 20, col = "red", lwd = 2, lty = 2)
abline(v = -20, col = "red", lwd = 2, lty = 2)
```

## 평균 소득이 실감나지 않는 이유

-   소득 분포 히스토그램에서 높은 쪽 꼬리가 긴 데서도 알 수 있듯이 고소득자가 평균값을 끌어올리기 때문.
-   평균값은 벗어난 값의 영향에 약하다 (중앙값보다 강건성 낮음).

```{r, echo=FALSE}
suppressPackageStartupMessages({
  library(ggplot2)
  library(dplyr)
})
Var1 <- c("1000만원 미만",  "1000 ~ 2000",    "2000 ~ 3000",    "3000 ~ 4000",    "4000 ~ 5000",    "5000 ~ 6000", "6000 ~ 7000",    "7000 ~ 8000",   "8000 ~ 9000",   "9000 ~ 10000",   "10000 ~ 11000", "11000 ~ 12000", "12000 ~ 13000",  "13000 ~ 14000",  "14000 ~ 15000",  "15000 ~ 16000",  "16000 ~ 17000",  "17000 ~ 18000", "18000 ~ 19000",  "19000 ~ 20000",  "20000만원 이상")
cnt <- c(56,123,133,138,106,89,74,62,56,36,30,22,19,11,11,07,05,04,02,02,13)/10
df <- data.frame(Var1, cnt)
df$Var1 <- factor(df$Var1,levels = df$Var1)
```

```{r}
df %>% ggplot(aes(x=Var1, y=cnt))+
  geom_bar(stat = "identity", fill="violet",color = "black")+
  geom_text(aes(label = cnt), vjust = -0.5, size = 3.5)+
  labs(title = "소득 구간 분포",
       x = "소득 구간 (만원)",
       y = "비율 (%)") +
  geom_vline(xintercept = 6.5, color = "grey40", linetype = "dashed", linewidth = 1)+
  annotate("text", x = 6.6, y = max(df$cnt)-0.4, label = "평균값 5,600만원", 
           hjust = -0.2, vjust = -0.5, color = "grey40") +
  geom_vline(xintercept = 5, color = "grey40", linetype = "dashed", linewidth = 1)+
  annotate("text", x = 5, y = max(df$cnt -1.4), label = "중앙값 4,420만원", 
           hjust = -0.2, vjust = -0.5, color = "grey40") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1),
        plot.title = element_text(hjust = 0.5))
```
